(function(t){function e(e){for(var l,s,o=e[0],r=e[1],c=e[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],l=!0,o=1;o<a.length;o++){var r=a[o];0!==i[r]&&(l=!1)}l&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var l={},i={app:0},n=[];function s(e){if(l[e])return l[e].exports;var a=l[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=l,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)s.d(a,l,function(e){return t[e]}.bind(null,l));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/AudioPlayer/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"19fc":function(t,e,a){"use strict";a("e918")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var l=a("2b0e"),i=(a("d3b7"),a("bc3a")),n=a.n(i),s={baseURL:Object({NODE_ENV:"production",BASE_URL:"/AudioPlayer/"}).VUE_APP_BASE_API||"",timeout:6e4,headers:{Accept:"*/*","Accept-Language":"zh-CN,zh;q=0.9","Content-Type":"application/x-www-form-urlencoded"}},o=n.a.create(s);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return 200==t.status?t.data:Promise.reject(t)}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}}})},l["default"].use(Plugin);var r=o,c=a("ecee"),u=a("c074"),p=a("b702"),d=a("f2d1"),f=a("ad3d");c["c"].add(u["a"],p["a"],d["a"]),l["default"].component("font-awesome-icon",f["a"]),l["default"].component("font-awesome-layers",f["b"]),l["default"].component("font-awesome-layers-text",f["c"]);var h=a("5c96"),m=a.n(h);a("0fae");l["default"].use(m.a);var g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-menu",{ref:"menu",attrs:{mode:"horizontal",router:!0,"default-active":t.activeMenu,size:"mini","background-color":"#313237","text-color":"#686f74","active-text-color":"#c6c7cb"}},[a("el-menu-item",{attrs:{index:"/"}},[t._v("首页")]),a("el-menu-item",{attrs:{index:"/toplist"}},[t._v("排行榜")]),a("el-menu-item",{attrs:{index:"/playlist"}},[t._v("歌单")]),a("el-menu-item",{attrs:{index:"/artist"}},[t._v("歌手")])],1),a("keep-alive",[a("router-view",{attrs:{"current-time":t.currentTime,"is-playing":t.isPlaying},on:{play:function(e){return t.$refs["player"].onPlay(0)}}})],1),a("AudioPlayer",{ref:"player",staticStyle:{"margin-top":"12px"},attrs:{"src-list":[t.song],"src-key":"url"},on:{playing:t.playing,play:t.onPlay,pause:t.onPause,"play-prev":t.onPlayPrev,"play-next":t.onPlayNext,ended:t.onEnded}})],1)},y=[],b=a("5530"),v=(a("b0c0"),a("2f62")),_={name:"App",components:{},data:function(){return{activeMenu:this.$route.path,currentTime:null,isPlaying:!1}},computed:Object(b["a"])({},Object(v["b"])(["song"])),created:function(){},mounted:function(){this.$store.commit("SET_PLAYER",{height:this.$refs["player"].$el.clientHeight}),this.$store.commit("SET_APP",{menuHeight:this.$refs["menu"].$el.clientHeight})},methods:{playing:function(t){this.currentTime=t},onPlay:function(){window.document.title=this.song.name,this.isPlaying=!0},onPause:function(){this.isPlaying=!1},onPlayNext:function(){this.$store.dispatch("playNext")},onPlayPrev:function(){this.$store.dispatch("playPrev")},onEnded:function(){var t=this;this.isPlaying=!1,this.$store.dispatch("playNext").then((function(){t.$refs["player"].onPlay(0)}))}}},w=_,x=(a("5c0b"),a("2877")),P=Object(x["a"])(w,g,y,!1,null,null,null),$=P.exports,S=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticStyle:{margin:"0"},attrs:{gutter:6}},[a("el-col",{attrs:{span:14}},[a("el-scrollbar",{style:{height:t.cardHeight}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playlist,"show-header":!1,"row-class-name":t.tableRowClassName,size:"mini"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("label",[t._v(t._s(e.row.name))]),a("span",{staticClass:"audio-play__button-group"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"播放",placement:"top"}},[a("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-video-play",circle:""},on:{click:function(a){return t.onRowPlay(e.row)}}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"时长","show-overflow-tooltip":"",width:"80px",formatter:t.playTime}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.ar.map((function(t){return t.name})).join(" "))+" ")]}}])})],1)],1)],1),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"audio-info",staticStyle:{"background-color":"#313237",position:"static"}},[a("div",{staticClass:"audio-info__cover",staticStyle:{position:"absolute"}},[a("img",{class:{active:t.isPlaying},attrs:{src:t.song.al?t.song.al.picUrl:null}})]),a("div",{staticClass:"audio-info__album",staticStyle:{height:"20px","line-height":"20px",color:"#606266"}},[t._v(" "+t._s(t.song.al?t.song.al.name:null)+" ")]),a("div",{staticClass:"audio-info__author",staticStyle:{height:"20px","line-height":"20px",color:"#606266"}},[t._v(" "+t._s(t.song.ar?t.song.ar.map((function(t){return t.name})).join(" "):null)+" ")]),a("AudioLyric",{attrs:{lyric:t.song.lyric,"current-time":t.currentTime}})],1)])],1)},O=[],j=(a("99af"),a("c740"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"audio-lyric"},[a("div",{staticClass:"audio-info__lyric"},[a("el-scrollbar",{ref:"lyricScrollbar",staticStyle:{height:"calc(100vh - 152px)"}},[a("ul",{ref:"lyric",staticClass:"audio-info__lyric-group",staticStyle:{"list-style":"none"}},t._l(t.split_lyric,(function(e,l){return a("li",{key:l,staticClass:"audio-info__lyric-item",class:{active:l==t.currentIndex}},[t._v(" "+t._s(e.lyric)+" ")])})),0)])],1)])}),C=[],k=(a("a9e3"),a("159b"),a("ac1f"),a("1276"),{name:"AudioLyric",props:{currentTime:{type:Number,default:null},lyric:{type:String,default:null}},data:function(){return{}},computed:{split_lyric:function(){var t=[];return this.lyric?(this.lyric.split(/\n/).forEach((function(e){var a={start:null,lyric:e,end:null},l=e.indexOf("["),i=e.indexOf("]");-1!=l&&(a.start=0,a.start+=60*parseInt(e.substr(l+1,2)),a.start+=parseInt(e.substr(l+4,2)),a.start+=.01*parseInt(e.substr(l+7,2)),a.lyric=a.lyric.substr(i+1)),""!=a.lyric&&t.push(a)})),t):[]},currentIndex:function(){var t=this,e=this.split_lyric.findIndex((function(e){return e.start>t.currentTime}));return e-1}},methods:{},watch:{currentIndex:function(t){this.$refs.lyric.style.transform="translateY(".concat(330-25*(t+1),"px)")}}}),A=k,N=(a("19fc"),Object(x["a"])(A,j,C,!1,null,"54b46ee6",null)),H=N.exports,I={props:{currentTime:{},isPlaying:{}},components:{AudioLyric:H},data:function(){return{}},computed:Object(b["a"])(Object(b["a"])({},Object(v["b"])(["playlist","song","app","player"])),{},{cardHeight:function(){return"calc(100vh - ".concat(this.app.menuHeight,"px - ").concat(this.player.height,"px - 24px)")}}),created:function(){},methods:{tableRowClassName:function(t){return t.row.id===this.song.id?"active":""},onTableRowClick:function(t){var e=this.audio_list.findIndex((function(e){return e==t}));this.$store.commit("audio/SET_ITEM",t),this.$refs.player.currentIndex=e},onRowPlay:function(t){var e=this;this.$store.dispatch("getSong",t.id).then((function(){e.$emit("play")}))},playTime:function(t){var e=parseInt(t.dt/1e3/60),a=parseInt(t.dt/1e3)%60;return e+":"+(a>9?a:"0"+a)}}},D=I,E=(a("7738"),Object(x["a"])(D,T,O,!1,null,"ee59e590",null)),L=E.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"平台"}},[a("el-radio-group",{on:{change:t.handleChangePlatform},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},[a("el-radio-button",{attrs:{label:"网易云"}})],1)],1),a("el-form-item",{attrs:{label:"榜单"}},[a("el-radio-group",{directives:[{name:"loading",rawName:"v-loading",value:t.toplist.loading,expression:"toplist.loading"}],on:{change:t.handleChangeToplist},model:{value:t.toplist.active,callback:function(e){t.$set(t.toplist,"active",e)},expression:"toplist.active"}},t._l(t.toplist.data,(function(e){return a("el-radio-button",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1),a("el-form-item",[a("el-button",{attrs:{disabled:0==t.playlist.tableData.length,type:"info"},on:{click:t.handlePlay}},[t._v("播放")]),a("el-button",{attrs:{disabled:0==t.playlist.tableData.length,type:"info"},on:{click:t.handleAddtoPlaylist}},[t._v("添加至播放列表")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-scrollbar",{style:{height:t.tableHeight}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.playlist.loading,expression:"playlist.loading"}],attrs:{data:t.playlist.tableData,size:"mini"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"标题","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"时长","show-overflow-tooltip":"",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(parseInt(e.row.dt/1e3/60))+":"+t._s(parseInt(e.row.dt/1e3)%60>9?parseInt(e.row.dt/1e3)%60:"0"+parseInt(e.row.dt/1e3)%60)+" ")]}}])}),a("el-table-column",{attrs:{label:"歌手","show-overflow-tooltip":"",width:"280px"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.ar,(function(e){return a("span",{key:e.id},[t._v(t._s(e.name))])}))}}])})],1)],1)],1)],1)},z=[],R=(a("a15b"),a("d81d"),"https://fg7ee.sse.codesandbox.io/music.163"),Y=function(){return r({method:"get",url:"".concat(R,"/toplist")})},M=function(t){return r({method:"get",url:"".concat(R,"/playlist/detail"),params:{id:t}})},U=function(t){return r({method:"get",url:"".concat(R,"/song/lyric"),params:{id:t}})},J=function(t){return r({method:"get",url:"".concat(R,"/song/detail"),params:{ids:t.map((function(t){return t.id})).join(",")}})},q=function(t){return r({method:"get",url:"".concat(R,"/song/player/url"),params:{id:t}})},G=function(){return r({method:"get",url:"".concat(R,"/playlist/catalogue")})},V=function(t){var e=t.cat,a=void 0===e?"全部":e,l=t.pageNum,i=void 0===l?1:l;return r({method:"get",url:"".concat(R,"/playlist/list"),params:{cat:a,pageNum:i}})},F=function(t){var e=t.type,a=t.area,l=t.pageNum;return r({method:"get",url:"".concat(R,"/artist/list"),params:{initial:void 0,offset:100*(l-1),limit:100,total:!0,type:e,area:a}})},K=function(t){return r({method:"get",url:"".concat(R,"/artist/top/song"),params:{id:t}})},Q={name:"toplist",data:function(){return{platform:"网易云",toplist:{loading:!1,active:"",data:[]},playlist:{active:"",tableData:[],loading:!1},form:{clientHeight:0}}},computed:Object(b["a"])(Object(b["a"])({},Object(v["b"])(["app","player"])),{},{tableHeight:function(){return"calc(100vh - ".concat(this.app.menuHeight,"px - ").concat(this.player.height,"px - ").concat(this.form.clientHeight,"px - 36px)")}}),created:function(){this.getToplist()},mounted:function(){this.form.clientHeight=this.$refs["form"].$el.clientHeight},updated:function(){this.form.clientHeight=this.$refs["form"].$el.clientHeight},methods:{getToplist:function(){var t=this;this.toplist.loading=!0,Y().then((function(e){t.toplist.data=e.list,t.toplist.active=e.list[0].id,t.toplist.loading=!1,t.getPlaylist()}))},getPlaylist:function(){var t=this,e=this.toplist.active;this.playlist.loading=!0,M(e).then((function(e){t.playlist.tableData=e.playlist.tracks,t.playlist.loading=!1}))},handleChangePlatform:function(){this.getToplist()},handleChangeToplist:function(){this.getPlaylist()},handlePlay:function(){var t=this;this.$confirm("此操作将替换当前播放列表, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.commit("SET_PLAY_LIST",t.playlist.tableData),t.$message({type:"success",message:"添加成功!"})})).catch((function(){t.$message({type:"info",message:"已取消添加"})}))},handleAddtoPlaylist:function(){var t=this;this.$confirm("此操作将排行榜添加至当前播放列表, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("pushPlaylist",t.playlist.tableData),t.$message({type:"success",message:"添加成功!"})})).catch((function(){t.$message({type:"info",message:"已取消添加"})}))}},watch:{}},W=Q,X=Object(x["a"])(W,B,z,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"平台"}},[a("el-radio-group",{model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},[a("el-radio-button",{attrs:{label:"网易云"}})],1)],1),a("el-form-item",{attrs:{label:"系列"}},[a("el-radio-group",{directives:[{name:"loading",rawName:"v-loading",value:t.catlist.loading,expression:"catlist.loading"}],on:{change:t.handleChangeCat},model:{value:t.catlist.activeCat,callback:function(e){t.$set(t.catlist,"activeCat",e)},expression:"catlist.activeCat"}},[a("el-radio-button",{attrs:{label:-1}},[t._v(t._s(t.catlist.all.name))]),t._l(t.catlist.categories,(function(e,l){return a("el-radio-button",{key:l,attrs:{label:l}},[t._v(t._s(e))])}))],2)],1),"-1"!=t.catlist.activeCat?a("el-form-item",{attrs:{label:"分类"}},[a("el-radio-group",{on:{change:t.handleChangeSub},model:{value:t.catlist.activeSub,callback:function(e){t.$set(t.catlist,"activeSub",e)},expression:"catlist.activeSub"}},t._l(t.catlist.sub.filter((function(e){return e.category==t.catlist.activeCat})),(function(t,e){return a("el-radio-button",{key:e,attrs:{label:t.name}})})),1)],1):t._e(),t.playlists.tableData.length>0?a("el-form-item",{attrs:{label:"歌单"}},[a("el-scrollbar",{staticStyle:{height:"140px"}},[a("el-radio-group",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],on:{change:t.handleChangePlaylist},model:{value:t.playlists.active,callback:function(e){t.$set(t.playlists,"active",e)},expression:"playlists.active"}},t._l(t.playlists.tableData,(function(e,l){return a("el-radio-button",{key:l,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1)],1):t._e(),a("el-form-item",[a("el-button",{attrs:{disabled:0==t.playlist.tableData.length,type:"info"},on:{click:t.handlePlay}},[t._v("播放")]),a("el-button",{attrs:{disabled:0==t.playlist.tableData.length,type:"info"},on:{click:t.handleAddtoPlaylist}},[t._v("添加至播放列表")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-scrollbar",{ref:"scroll",style:{height:t.tableHeight}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.playlist.loading,expression:"playlist.loading"}],attrs:{data:t.playlist.tableData,size:"mini"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"标题","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"时长","show-overflow-tooltip":"",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(parseInt(e.row.dt/1e3/60))+":"+t._s(parseInt(e.row.dt/1e3)%60>9?parseInt(e.row.dt/1e3)%60:"0"+parseInt(e.row.dt/1e3)%60)+" ")]}}])}),a("el-table-column",{attrs:{label:"歌手","show-overflow-tooltip":"",width:"280px"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.ar,(function(e){return a("span",{key:e.id},[t._v(t._s(e.name))])}))}}])}),a("el-table-column",{attrs:{label:"专辑名","show-overflow-tooltip":"",width:"280px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.al.name)+" ")]}}])})],1)],1)],1)],1)},et=[],at=a("2909"),lt=(a("4c53"),{name:"toplist",data:function(){return{platform:"网易云",catlist:{loading:!1,all:{},activeCat:"-1",categories:{},activeSub:"",sub:[]},playlists:{active:"",tableData:[],loading:!1,pageNum:1},playlist:{active:"",tableData:[],loading:!1},form:{clientHeight:0}}},computed:Object(b["a"])(Object(b["a"])({},Object(v["b"])(["app","player"])),{},{tableHeight:function(){return"calc(100vh - ".concat(this.app.menuHeight,"px - ").concat(this.player.height,"px - ").concat(this.form.clientHeight,"px - 36px)")}}),created:function(){this.getPlaylistCatlist()},mounted:function(){this.form.clientHeight=this.$refs["form"].$el.clientHeight},updated:function(){this.form.clientHeight=this.$refs["form"].$el.clientHeight},methods:{load:function(){this.playlists.pageNum++,this.getTopPlaylist()},handleChangePlaylist:function(){this.getPlaylist()},getPlaylistCatlist:function(){var t=this;this.catlist.loading=!0,G().then((function(e){""!=e?(t.catlist.all=e.all,t.catlist.categories=e.categories,t.catlist.sub=e.sub,t.playlists.pageNum=1,t.catlist.loading=!1,t.getTopPlaylist()):setTimeout(t.getPlaylistCatlist(),1e3)}))},handleChangeCat:function(){-1==this.catlist.activeCat&&this.getTopPlaylist()},handleChangeSub:function(){this.playlists.pageNum=1,this.playlists.tableData=[],this.getTopPlaylist()},getTopPlaylist:function(){var t=this,e=this.catlist.activeSub;-1!=this.catlist.activeCat&&this.catlist.activeSub||(e="全部"),this.playlists.loading=!0,V({cat:e,pageNum:this.playlists.pageNum}).then((function(e){t.playlists.tableData=[].concat(Object(at["a"])(t.playlists.tableData),Object(at["a"])(e.playlists)),t.playlists.loading=!1}))},getPlaylist:function(){var t=this,e=this.playlists.active;this.playlist.loading=!0,this.playlist.tableData=[],M(e).then((function(e){J(e.playlist.trackIds).then((function(e){t.playlist.tableData=e.songs,t.playlist.loading=!1}))}))},handlePlay:function(){var t=this;this.$confirm("此操作将替换当前播放列表, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.commit("SET_PLAY_LIST",t.playlist.tableData),t.$message({type:"success",message:"添加成功!"}),t.$emit("play")})).catch((function(){t.$message({type:"info",message:"已取消添加"})}))},handleAddtoPlaylist:function(){var t=this;this.$confirm("此操作将排行榜添加至当前播放列表, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("pushPlaylist",t.playlist.tableData),t.$message({type:"success",message:"添加成功!"})})).catch((function(){t.$message({type:"info",message:"已取消添加"})}))}},watch:{}}),it=lt,nt=Object(x["a"])(it,tt,et,!1,null,null,null),st=nt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"平台"}},[a("el-radio-group",{model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},[a("el-radio-button",{attrs:{label:"网易云"}})],1)],1),a("el-form-item",{attrs:{label:"组合"}},[a("el-radio-group",{on:{change:t.handleChanageType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio-button",{attrs:{label:-1}},[t._v("全部")]),a("el-radio-button",{attrs:{label:1}},[t._v("男歌手")]),a("el-radio-button",{attrs:{label:2}},[t._v("女歌手")]),a("el-radio-button",{attrs:{label:3}},[t._v("组合/乐队")])],1)],1),a("el-form-item",{attrs:{label:"地区"}},[a("el-radio-group",{on:{change:t.handleChanageArea},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}},[a("el-radio-button",{attrs:{label:-1}},[t._v("全部")]),a("el-radio-button",{attrs:{label:7}},[t._v("华语")]),a("el-radio-button",{attrs:{label:96}},[t._v("欧美")]),a("el-radio-button",{attrs:{label:8}},[t._v("日本")]),a("el-radio-button",{attrs:{label:16}},[t._v("韩国")]),a("el-radio-button",{attrs:{label:0}},[t._v("其它")])],1)],1),t.artists.data.length>0?a("el-form-item",{attrs:{label:"歌手"}},[a("el-scrollbar",{staticStyle:{height:"112px"}},[a("el-radio-group",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],on:{change:t.handleChangeArtist},model:{value:t.artists.active,callback:function(e){t.$set(t.artists,"active",e)},expression:"artists.active"}},t._l(t.artists.data,(function(e){return a("el-radio-button",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1)],1):t._e(),a("el-form-item",[a("el-button",{attrs:{disabled:0==t.playlist.tableData.length,type:"info"},on:{click:t.handlePlay}},[t._v("播放")]),a("el-button",{attrs:{disabled:0==t.playlist.tableData.length,type:"info"},on:{click:t.handleAddtoPlaylist}},[t._v("添加至播放列表")])],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-scrollbar",{style:{height:t.tableHeight}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.playlist.loading,expression:"playlist.loading"}],attrs:{data:t.playlist.tableData,size:"mini"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"标题","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"时长","show-overflow-tooltip":"",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(parseInt(e.row.dt/1e3/60))+":"+t._s(parseInt(e.row.dt/1e3)%60>9?parseInt(e.row.dt/1e3)%60:"0"+parseInt(e.row.dt/1e3)%60)+" ")]}}])}),a("el-table-column",{attrs:{label:"歌手","show-overflow-tooltip":"",width:"280px"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.ar,(function(e){return a("span",{key:e.id},[t._v(t._s(e.name))])}))}}])})],1)],1)],1)],1)},rt=[],ct={name:"toplist",data:function(){return{type:"-1",area:"-1",platform:"网易云",artists:{loading:!1,active:"",data:[],pageNum:1},playlist:{active:"",tableData:[],loading:!1},form:{clientHeight:0}}},computed:Object(b["a"])(Object(b["a"])({},Object(v["b"])(["app","player"])),{},{tableHeight:function(){return"calc(100vh - ".concat(this.app.menuHeight,"px - ").concat(this.player.height,"px - ").concat(this.form.clientHeight,"px - 36px)")}}),created:function(){this.getArtistList()},mounted:function(){this.form.clientHeight=this.$refs["form"].$el.clientHeight},updated:function(){this.form.clientHeight=this.$refs["form"].$el.clientHeight},methods:{load:function(){this.artists.pageNum++,this.getArtistList()},handleChanageType:function(){this.artists.data=[],this.artists.pageNum=1,this.getArtistList()},handleChanageArea:function(){this.artists.data=[],this.artists.pageNum=1,this.getArtistList()},handleChangeArtist:function(){this.getArtistTopSongs()},getArtistList:function(){var t=this;this.artists.loading=!0,F({type:this.type,area:this.area,pageNum:this.artists.pageNum}).then((function(e){t.artists.data=[].concat(Object(at["a"])(t.artists.data),Object(at["a"])(e.artists)),t.artists.loading=!1}))},getArtistTopSongs:function(){var t=this,e=this.artists.active;this.playlist.loading=!0,this.playlist.tableData=[],K(e).then((function(e){t.playlist.tableData=e.songs,t.playlist.loading=!1}))},getToplist:function(){var t=this;Y().then((function(e){t.toplist.data=e.list,t.toplist.active=e.list[0].id,t.getPlaylist()}))},getPlaylist:function(){var t=this,e=this.toplist.active;this.playlist.loading=!0,M(e).then((function(e){t.playlist.tableData=e.playlist.tracks,t.playlist.loading=!1}))},handleChangeToplist:function(){this.getPlaylist()},handlePlay:function(){var t=this;this.$confirm("此操作将替换当前播放列表, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.commit("SET_PLAY_LIST",t.playlist.tableData),t.$message({type:"success",message:"添加成功!"})})).catch((function(){t.$message({type:"info",message:"已取消添加"})}))},handleAddtoPlaylist:function(){var t=this;this.$confirm("此操作将排行榜添加至当前播放列表, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("pushPlaylist",t.playlist.tableData),t.$message({type:"success",message:"添加成功!"})})).catch((function(){t.$message({type:"info",message:"已取消添加"})}))}},watch:{}},ut=ct,pt=Object(x["a"])(ut,ot,rt,!1,null,null,null),dt=pt.exports;l["default"].use(S["a"]);var ft=new S["a"]({mode:"hash",routes:[{path:"/",component:L},{path:"/toplist",component:Z},{path:"/playlist",component:st},{path:"/artist",component:dt},{path:"*",component:L}]}),ht=(a("7db0"),a("3ca3"),a("ddb0"),a("0e44")),mt={app:function(t){return t.app},player:function(t){return t.player},playlist:function(t){return t.playlist.length?t.playlist:[]},song:function(t){return t.song}};l["default"].use(v["a"]);var gt=new v["a"].Store({modules:{playlist:[],song:{},app:{menuHeight:0,mainBgColor:"#222327",mainHoverColor:"",mainActiveColor:"",cardBgColor:"#313237"},player:{height:0}},mutations:{SET_PLAY_LIST:function(t,e){localStorage.setItem("playlist",JSON.stringify(e)),t.playlist=e},SET_SONG:function(t,e){t.song=e},SET_APP:function(t,e){t.app=Object(b["a"])(Object(b["a"])({},t.app),e)},SET_PLAYER:function(t,e){t.player=Object(b["a"])(Object(b["a"])({},t.player),e)}},getters:mt,actions:{pushPlaylist:function(t,e){var a=t.state,l=t.commit;l("SET_PLAY_LIST",[].concat(Object(at["a"])(a.playlist.length?a.playlist:[]),Object(at["a"])(e)))},getSong:function(t,e){var a=this,l=t.state,i=t.commit,n=t.dispatch,s=l.playlist.find((function(t){return t.id==e}));return Promise.all([new Promise((function(t){return q(e).then(t)})),new Promise((function(t){return U(e).then(t)}))]).then((function(t){return s=Object(b["a"])(Object(b["a"])({},s),{},{url:t[0].data[0].url,lyric:t[1].lrc?t[1].lrc.lyric:""}),i("SET_SONG",s),s.url?Promise.resolve(s):(console.log(a._vm.$message.error("未找到音频源")),n("playNext"))}))},playNext:function(t){var e=t.state,a=t.dispatch,l=e.playlist.findIndex((function(t){return t.id==e.song.id}));return l==e.playlist.length-1?l=0:l++,a("getSong",e.playlist[l].id)},playPrev:function(t){var e=t.state,a=t.dispatch,l=e.playlist.findIndex((function(t){return t.id==e.song.id}));return 0==l?l=e.playlist.length-1:l--,a("getSong",e.playlist[l].id)}},plugins:[Object(ht["a"])()]}),yt=a("0ae6"),bt=a.n(yt);a("8a01"),a("b20f");l["default"].config.productionTip=!1,l["default"].use(a("7876")),l["default"].use(bt.a),new l["default"]({router:ft,store:gt,render:function(t){return t($)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},7738:function(t,e,a){"use strict";a("7c4c")},"7c4c":function(t,e,a){},"9c0c":function(t,e,a){},b20f:function(t,e,a){},e918:function(t,e,a){}});
//# sourceMappingURL=app.f14644f9.js.map